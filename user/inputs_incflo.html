

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Section: incflo &mdash; AMR-Wind 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=2709fde1"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Section: transport" href="inputs_transport.html" />
    <link rel="prev" title="Section: io" href="inputs_io.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            AMR-Wind
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../walkthrough/index.html">Walkthrough</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="user.html">User Manual</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="features.html">Capabilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="build.html">Compiling AMR-Wind</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="inputs.html">AMR-Wind inputs file</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="inputs.html#input-file-reference">Input file reference</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="inputs_geometry.html">Section: geometry</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_amr.html">Section: AMReX and AMR</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_tagging.html">Section: tagging</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_time.html">Section: time</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_io.html">Section: io</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Section: incflo</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_transport.html">Section: transport</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_turbulence.html">Section: turbulence</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_Momentum_Sources.html">Section: Momentum Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_Temperature_Sources.html">Section: Temperature Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_TKE_Sources.html">Section: TKE Sources</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_ABL.html">Section: ABL</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_ABL_meso_forcing.html">Section: ABLMesoForcing</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_SyntheticTurbulence.html">Section: SyntheticTurbulence</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_Boundary_conditions.html">Section: Boundary conditions</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_MLMG.html">Section: MLMG options</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_post_processing.html">Section: Post-processing</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_Sampling.html">Section: Sampling</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_Averaging.html">Section: Averaging</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_KineticEnergy.html">Section: KineticEnergy</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_Enstrophy.html">Section: Enstrophy</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_FieldNorms.html">Section: FieldNorms</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_Actuator.html">Section: Actuator</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_multiphase.html">Section: MultiPhase</a></li>
<li class="toctree-l4"><a class="reference internal" href="inputs_ocean_waves.html">Section: Ocean Waves</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="abl_bndry_io.html">AMR-Wind ABL Boundary I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="alm_fllc.html">Filtered lifting line correction (FLLC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="run.html">Running AMR-Wind</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">Frequently Asked Questions (FAQ) and Common Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="post_processing_examples.html">Post-processing Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="compression.html">Compressing field output files</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../theory/theory.html">Theory Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">How to Cite AMR-Wind</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibrefs.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">AMR-Wind</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="user.html">User Manual</a></li>
          <li class="breadcrumb-item"><a href="inputs.html">AMR-Wind inputs file</a></li>
      <li class="breadcrumb-item active">Section: incflo</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/user/inputs_incflo.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="section-incflo">
<span id="inputs-incflo"></span><h1>Section: incflo<a class="headerlink" href="#section-incflo" title="Link to this heading"></a></h1>
<p>This section deals with parameters that mostly determine how AMR-Wind is run such
as initial conditions and discretization options.</p>
<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.physics">
<span class="sig-name descname"><span class="pre">incflo.physics</span></span><a class="headerlink" href="#input_param-incflo.physics" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> List of strings</p>
<p>Specify a string or a list of strings for each type of physics to initialize and simulate.
Physics is additive and more than one type of physics may be used.
Current implemented physics include FreeStream, SyntheticTurbulence, ABL, Actuator, RayleighTaylor, BoussinesqBubble, TaylorGreenVortex, and ScalarAdvection (which is an example of using a passive scalar advection).
For multiphase simulations, the MultiPhase physics must be specified, and for forcing wave profiles into the domain, the OceanWaves physics must be specified as well.
For immersed boundary forcing method TerrainDrag must be specified and the folder should include a terrain file (default name: <cite>terrain.amrwind</cite>, user control is <cite>TerrainDrag.terrain_file</cite>) file.
For including forested regions ForestDrag must be specified and the folder should include a forest file (default name: <cite>forest.amrwind</cite>, user control is <cite>ForestDrag.forest_file</cite>) file.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.density">
<span class="sig-name descname"><span class="pre">incflo.density</span></span><a class="headerlink" href="#input_param-incflo.density" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Real</p>
<p>Specify reference density.
For the most part if <a class="reference internal" href="#input_param-incflo.constant_density"><code class="xref std std-input_param docutils literal notranslate"><span class="pre">incflo.constant_density</span></code></a> = true then <cite>incflo.density</cite> sets a constant density everywhere.
Refer to the field initializer for your chosen <a class="reference internal" href="#input_param-incflo.physics"><code class="xref std std-input_param docutils literal notranslate"><span class="pre">incflo.physics</span></code></a> for how <cite>incflo.density</cite> is used.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.gravity">
<span class="sig-name descname"><span class="pre">incflo.gravity</span></span><a class="headerlink" href="#input_param-incflo.gravity" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> List of three Real numbers, optional, default = 0 0 -9.81</p>
<p>Acceleration due to gravity in m/s<sup>2</sup> . This constant vector is used by all parts
of the solver related to gravity.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.velocity">
<span class="sig-name descname"><span class="pre">incflo.velocity</span></span><a class="headerlink" href="#input_param-incflo.velocity" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> List of three Real numbers, sometimes mandatory depending on the <a class="reference internal" href="#input_param-incflo.physics"><code class="xref std std-input_param docutils literal notranslate"><span class="pre">incflo.physics</span></code></a></p>
<p>Specify reference velocity in the “x-”, “y-”, “z-direction”.
Refer to the field initializer for your chosen <a class="reference internal" href="#input_param-incflo.physics"><code class="xref std std-input_param docutils literal notranslate"><span class="pre">incflo.physics</span></code></a> for how <cite>incflo.velocity</cite> is used.
In the context of ABL flows, this argument specifies the initial bulk velocity as well as the target velocity
for ABL forcing terms, unless reference values come from a file instead. Many field initializers do not use this
input argument.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.verbose">
<span class="sig-name descname"><span class="pre">incflo.verbose</span></span><a class="headerlink" href="#input_param-incflo.verbose" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Integer, optional, default = 0</p>
<p>Specifies amount of verbosity. A value of 0 is minimal verbosity output and 3 gives full verbosity output.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.initial_iterations">
<span class="sig-name descname"><span class="pre">incflo.initial_iterations</span></span><a class="headerlink" href="#input_param-incflo.initial_iterations" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Integer, optional, default = 3</p>
<p>Number of initial pressure iterations to perform when the simulation starts.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.do_initial_proj">
<span class="sig-name descname"><span class="pre">incflo.do_initial_proj</span></span><a class="headerlink" href="#input_param-incflo.do_initial_proj" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Boolean, optional, default = true</p>
<p>This flag when true performs a nodal projection
to ensure the initial velocity is divergence-free.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.constant_density">
<span class="sig-name descname"><span class="pre">incflo.constant_density</span></span><a class="headerlink" href="#input_param-incflo.constant_density" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Boolean, optional, default = true</p>
<p>This flag specifies if density is constant throughout the simulation.
If the flag is true then a constant density field is used, the density field is copied from old to new time steps.
If the flag is false then density is not constant and an extra advection equation is solved to evolve density.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.use_godunov">
<span class="sig-name descname"><span class="pre">incflo.use_godunov</span></span><a class="headerlink" href="#input_param-incflo.use_godunov" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Boolean, optional, default = true</p>
<p>Specifies which advection scheme to use: either Godunov (true) or method of lines (false).
Godunov the default approach and has many advantages over the method of lines (MOL): better accuracy,
stability at larger CFL numbers, and greater computational efficiency. Setting this argument to false is
not recommended, and active use or development relying on the method of lines (MOL) is very sparse.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.dry_run">
<span class="sig-name descname"><span class="pre">incflo.dry_run</span></span><a class="headerlink" href="#input_param-incflo.dry_run" title="Link to this definition"></a></dt>
<dd><p><strong>type</strong> Boolean, optional, default = false</p>
<p>Setting this option to true enables a “dry run” of the code. This is intended for checking if an input
file is set up properly and for investigating the initial state of a simulation. A dry run will make sure
that initial iterations and the initial projection are skipped, and it will complete no time steps. This is
to minimize the computational demands of such a run. A plot file with the prefix <code class="docutils literal notranslate"><span class="pre">dry_run</span></code> will be output
regardless of whether the simulation restarts from a checkpoint file or from scratch.</p>
</dd></dl>

<dl class="std input_param" id="inputs-incflo-advection">
<dt class="sig sig-object std" id="input_param-incflo.godunov_type">
<span class="sig-name descname"><span class="pre">incflo.godunov_type</span></span><a class="headerlink" href="#input_param-incflo.godunov_type" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> String, optional, default = weno_z</p>
<p>Specifies which Godunov scheme to use. Options include <code class="docutils literal notranslate"><span class="pre">plm</span></code>, <code class="docutils literal notranslate"><span class="pre">ppm</span></code>,
<code class="docutils literal notranslate"><span class="pre">ppm_nolim</span></code>, <code class="docutils literal notranslate"><span class="pre">weno_js</span></code>, and <code class="docutils literal notranslate"><span class="pre">weno_z</span></code></p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.godunov_use_forces_in_trans">
<span class="sig-name descname"><span class="pre">incflo.godunov_use_forces_in_trans</span></span><a class="headerlink" href="#input_param-incflo.godunov_use_forces_in_trans" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Boolean, optional, default = false</p>
<p>Specifies if body forces are included in the transverse velocity prediction.
Note: only used when <a class="reference internal" href="#input_param-incflo.use_godunov"><code class="xref std std-input_param docutils literal notranslate"><span class="pre">incflo.use_godunov</span></code></a> = true.</p>
</dd></dl>

<dl class="std input_param" id="inputs-incflo-diffusion">
<dt class="sig sig-object std" id="input_param-incflo.diffusion_type">
<span class="sig-name descname"><span class="pre">incflo.diffusion_type</span></span><a class="headerlink" href="#input_param-incflo.diffusion_type" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> Integer, optional, default = 1</p>
<p>Determines how the diffusion term is handled when updating the momentum equations.
A value of 0 is explicit diffusion and all diffusion terms are moved to the right hand side
(warning this carries with it a more stringent CFL restriction),
a value of 1 is Crank-Nicolson and diffusion terms are on both the left and right hand sides,
and a value of 2 (default) is a fully implicit diffusion where the entire diffusion term is handled on the left hand side.</p>
</dd></dl>

<dl class="std input_param">
<dt class="sig sig-object std" id="input_param-incflo.post_processing">
<span class="sig-name descname"><span class="pre">incflo.post_processing</span></span><a class="headerlink" href="#input_param-incflo.post_processing" title="Link to this definition"></a></dt>
<dd><p><strong>type:</strong> List of strings, optional</p>
<p>When present, this parameter contains list of sections to be read with
specific post-postprocessing actions. Currently, the code supports
<a class="reference internal" href="inputs_Sampling.html#inputs-sampling"><span class="std std-ref">Sampling</span></a>, <a class="reference internal" href="inputs_KineticEnergy.html#inputs-ke"><span class="std std-ref">KineticEnergy</span></a>,
<a class="reference internal" href="inputs_Enstrophy.html#inputs-enst"><span class="std std-ref">Enstrophy</span></a> and <a class="reference internal" href="inputs_Averaging.html#inputs-averaging"><span class="std std-ref">Averaging</span></a>.
Post-processing routines have a shared set of output parameters,
which are detailed <a class="reference internal" href="inputs_post_processing.html#inputs-post-processing"><span class="std std-ref">here</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">incflo</span><span class="o">.</span><span class="n">post_processing</span>     <span class="o">=</span> <span class="n">sampling</span> <span class="n">ke</span> <span class="n">enst</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">type</span>              <span class="o">=</span> <span class="n">Sampling</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">output_interval</span>   <span class="o">=</span> <span class="mi">5</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">labels</span>            <span class="o">=</span> <span class="n">line1</span> <span class="n">line2</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">fields</span>            <span class="o">=</span> <span class="n">velocity</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line1</span><span class="o">.</span><span class="n">type</span>        <span class="o">=</span> <span class="n">LineSampler</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line1</span><span class="o">.</span><span class="n">num_points</span>  <span class="o">=</span> <span class="mi">21</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line1</span><span class="o">.</span><span class="n">start</span>       <span class="o">=</span> <span class="mf">250.0</span> <span class="mf">250.0</span> <span class="mf">10.0</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line1</span><span class="o">.</span><span class="n">end</span>         <span class="o">=</span> <span class="mf">250.0</span> <span class="mf">250.0</span> <span class="mf">210.0</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line2</span><span class="o">.</span><span class="n">type</span>        <span class="o">=</span> <span class="n">LineSampler</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line2</span><span class="o">.</span><span class="n">num_points</span>  <span class="o">=</span> <span class="mi">21</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line2</span><span class="o">.</span><span class="n">start</span>       <span class="o">=</span> <span class="mf">500.0</span> <span class="mf">500.0</span> <span class="mf">10.0</span>
<span class="n">sampling</span><span class="o">.</span><span class="n">line2</span><span class="o">.</span><span class="n">end</span>         <span class="o">=</span> <span class="mf">500.0</span> <span class="mf">500.0</span> <span class="mf">210.0</span>
<span class="n">ke</span><span class="o">.</span><span class="n">type</span>                    <span class="o">=</span> <span class="n">KineticEnergy</span>
<span class="n">ke</span><span class="o">.</span><span class="n">output_interval</span>         <span class="o">=</span> <span class="mi">2</span>
</pre></div>
</div>
<p>In the above example, the code will read the parameters with the keyword
<code class="docutils literal notranslate"><span class="pre">sampling</span></code> to initialize user-defined probes.
The names of the <code class="docutils literal notranslate"><span class="pre">post_processing</span></code> labels need not be related to the type of post-processing;
the kind of post-processing routine is specified as the <code class="docutils literal notranslate"><span class="pre">type</span></code> under the
designated label.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="inputs_io.html" class="btn btn-neutral float-left" title="Section: io" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="inputs_transport.html" class="btn btn-neutral float-right" title="Section: transport" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>