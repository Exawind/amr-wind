# --- Simulation time control parameters ---
time.stop_time                           = 0.2                 # Max (simulated) time to evolve [s]
time.max_step                            = -1                  
time.fixed_dt                            = 0.02                # Fixed timestep size (in seconds). If negative, then time.cfl is used
incflo.physics                           = FreeStream Actuator # List of physics models to include in simulation.
incflo.verbose                           = 0                   
io.check_file                            = chk                 
incflo.use_godunov                       = true                
incflo.godunov_type                      = weno_z              
turbulence.model                         = Laminar             
incflo.density                           = 1.225               # Fluid density [kg/m^3]
transport.viscosity                      = 1.872e-05           # Fluid dynamic viscosity [kg/m-s]
transport.laminar_prandtl                = 0.7                 # Laminar prandtl number
transport.turbulent_prandtl              = 0.3333              # Turbulent prandtl number
ConstValue.density.value                 = 1.225               
ConstValue.velocity.value                = 11.0 0.0 0.0        

# --- Geometry and Mesh ---
geometry.prob_lo                         = -960.0 -960.0 -960.0
geometry.prob_hi                         = 960.0 960.0 960.0   
amr.n_cell                               = 96 96 96            # Number of cells in x, y, and z directions
amr.max_level                            = 0                   
geometry.is_periodic                     = 0 1 1               
xlo.type                                 = mass_inflow         
xlo.density                              = 1.225               
xlo.velocity                             = 11.0 0.0 0.0        
xhi.type                                 = pressure_outflow    

# --- ABL parameters ---
ICNS.source_terms                        = ActuatorForcing     
incflo.velocity                          = 11.0 0.0 0.0        
time.plot_interval                       = 10                
time.checkpoint_interval                 = 5                
io.plot_file                             = plt
io.restart_file                          = "../act_uniform_alm/chk00005"
Actuator.type                            = TurbineFastLine     
Actuator.TurbineFastLine.epsilon         = 5.0 5.0 5.0         
Actuator.TurbineFastLine.epsilon_tower   = 5.0 5.0 5.0         
Actuator.TurbineFastLine.fllc            = false               

#---- tagging defs ----
tagging.labels                           = T0_level_0_zone T1_level_0_zone T0_level_1_zone T1_level_1_zone T0_level_2_zone T1_level_2_zone T0_level_3_zone T1_level_3_zone
tagging.T0_level_0_zone.type             = GeometryRefinement  
tagging.T0_level_0_zone.shapes           = T0_level_0_zone     
tagging.T0_level_0_zone.level            = 0                   
tagging.T0_level_0_zone.T0_level_0_zone.type = box                 
tagging.T0_level_0_zone.T0_level_0_zone.origin = -252.0 -439.0 -189.0
tagging.T0_level_0_zone.T0_level_0_zone.xaxis = 504.0 0.0 0.0       
tagging.T0_level_0_zone.T0_level_0_zone.yaxis = -0.0 378.0 -0.0     
tagging.T0_level_0_zone.T0_level_0_zone.zaxis = 0.0 0.0 378.0       
tagging.T1_level_0_zone.type             = GeometryRefinement  
tagging.T1_level_0_zone.shapes           = T1_level_0_zone     
tagging.T1_level_0_zone.level            = 0                   
tagging.T1_level_0_zone.T1_level_0_zone.type = box                 
tagging.T1_level_0_zone.T1_level_0_zone.origin = -252.0 61.0 -189.0  
tagging.T1_level_0_zone.T1_level_0_zone.xaxis = 504.0 0.0 0.0       
tagging.T1_level_0_zone.T1_level_0_zone.yaxis = -0.0 378.0 -0.0     
tagging.T1_level_0_zone.T1_level_0_zone.zaxis = 0.0 0.0 378.0       
tagging.T0_level_1_zone.type             = GeometryRefinement  
tagging.T0_level_1_zone.shapes           = T0_level_1_zone     
tagging.T0_level_1_zone.level            = 1                   
tagging.T0_level_1_zone.T0_level_1_zone.type = box                 
tagging.T0_level_1_zone.T0_level_1_zone.origin = -189.0 -376.0 -151.2
tagging.T0_level_1_zone.T0_level_1_zone.xaxis = 378.0 0.0 0.0       
tagging.T0_level_1_zone.T0_level_1_zone.yaxis = -0.0 252.0 -0.0     
tagging.T0_level_1_zone.T0_level_1_zone.zaxis = 0.0 0.0 302.4       
tagging.T1_level_1_zone.type             = GeometryRefinement  
tagging.T1_level_1_zone.shapes           = T1_level_1_zone     
tagging.T1_level_1_zone.level            = 1                   
tagging.T1_level_1_zone.T1_level_1_zone.type = box                 
tagging.T1_level_1_zone.T1_level_1_zone.origin = -189.0 124.0 -151.2 
tagging.T1_level_1_zone.T1_level_1_zone.xaxis = 378.0 0.0 0.0       
tagging.T1_level_1_zone.T1_level_1_zone.yaxis = -0.0 252.0 -0.0     
tagging.T1_level_1_zone.T1_level_1_zone.zaxis = 0.0 0.0 302.4       
tagging.T0_level_2_zone.type             = GeometryRefinement  
tagging.T0_level_2_zone.shapes           = T0_level_2_zone     
tagging.T0_level_2_zone.level            = 2                   
tagging.T0_level_2_zone.T0_level_2_zone.type = box                 
tagging.T0_level_2_zone.T0_level_2_zone.origin = -126.0 -344.5 -100.80000000000001
tagging.T0_level_2_zone.T0_level_2_zone.xaxis = 252.0 0.0 0.0       
tagging.T0_level_2_zone.T0_level_2_zone.yaxis = -0.0 189.0 -0.0     
tagging.T0_level_2_zone.T0_level_2_zone.zaxis = 0.0 0.0 201.60000000000002
tagging.T1_level_2_zone.type             = GeometryRefinement  
tagging.T1_level_2_zone.shapes           = T1_level_2_zone     
tagging.T1_level_2_zone.level            = 2                   
tagging.T1_level_2_zone.T1_level_2_zone.type = box                 
tagging.T1_level_2_zone.T1_level_2_zone.origin = -126.0 155.5 -100.80000000000001
tagging.T1_level_2_zone.T1_level_2_zone.xaxis = 252.0 0.0 0.0       
tagging.T1_level_2_zone.T1_level_2_zone.yaxis = -0.0 189.0 -0.0     
tagging.T1_level_2_zone.T1_level_2_zone.zaxis = 0.0 0.0 201.60000000000002
tagging.T0_level_3_zone.type             = GeometryRefinement  
tagging.T0_level_3_zone.shapes           = T0_level_3_zone     
tagging.T0_level_3_zone.level            = 3                   
tagging.T0_level_3_zone.T0_level_3_zone.type = box                 
tagging.T0_level_3_zone.T0_level_3_zone.origin = -31.5 -325.6 -75.6  
tagging.T0_level_3_zone.T0_level_3_zone.xaxis = 63.0 0.0 0.0        
tagging.T0_level_3_zone.T0_level_3_zone.yaxis = -0.0 151.2 -0.0     
tagging.T0_level_3_zone.T0_level_3_zone.zaxis = 0.0 0.0 151.2       
tagging.T1_level_3_zone.type             = GeometryRefinement  
tagging.T1_level_3_zone.shapes           = T1_level_3_zone     
tagging.T1_level_3_zone.level            = 3                   
tagging.T1_level_3_zone.T1_level_3_zone.type = box                 
tagging.T1_level_3_zone.T1_level_3_zone.origin = -31.5 174.4 -75.6   
tagging.T1_level_3_zone.T1_level_3_zone.xaxis = 63.0 0.0 0.0        
tagging.T1_level_3_zone.T1_level_3_zone.yaxis = -0.0 151.2 -0.0     
tagging.T1_level_3_zone.T1_level_3_zone.zaxis = 0.0 0.0 151.2       

#---- actuator defs ----
Actuator.labels                          = T0 T1               
Actuator.T0.type                         = TurbineFastLine     
Actuator.T0.openfast_input_file          = nrel5mw.fst
Actuator.T0.base_position                = 0.0 -250.0 -90.0    
Actuator.T0.rotor_diameter               = 126.0               
Actuator.T0.hub_height                   = 90.0                
Actuator.T0.num_points_blade             = 64                  
Actuator.T0.num_points_tower             = 12                  
Actuator.T0.epsilon                      = 5.0 5.0 5.0         
Actuator.T0.epsilon_tower                = 5.0 5.0 5.0         
Actuator.T0.openfast_start_time          = 0.1
Actuator.T0.openfast_stop_time           = 1000.0
Actuator.T0.openfast_restart_file        = ../act_uniform_alm/nrel5mw.20
Actuator.T0.openfast_sim_mode            = restart
Actuator.T0.fllc                         = false               
Actuator.T0.nacelle_drag_coeff           = 1.0                 
Actuator.T0.nacelle_area                 = 8.0                 
Actuator.T0.output_frequency             = 1                   
Actuator.T0.density                      = 1.225               
Actuator.T0.num_blades                   = 3                   
Actuator.T1.type                         = TurbineFastLine     
Actuator.T1.openfast_input_file          = nrel5mw.fst
Actuator.T1.base_position                = 0.0 250.0 -90.0     
Actuator.T1.rotor_diameter               = 126.0               
Actuator.T1.hub_height                   = 90.0                
Actuator.T1.num_points_blade             = 64                  
Actuator.T1.num_points_tower             = 12                  
Actuator.T1.epsilon                      = 5.0 5.0 5.0         
Actuator.T1.epsilon_tower                = 5.0 5.0 5.0         
Actuator.T1.openfast_start_time          = 0.1
Actuator.T1.openfast_stop_time           = 1000.0
Actuator.T1.openfast_restart_file        = ../act_uniform_alm/nrel5mw.T1.20
Actuator.T1.openfast_sim_mode            = restart
Actuator.T1.fllc                         = false               
Actuator.T1.nacelle_drag_coeff           = 1.0                 
Actuator.T1.nacelle_area                 = 8.0                 
Actuator.T1.output_frequency             = 1                   
Actuator.T1.density                      = 1.225               
Actuator.T1.num_blades                   = 3                   

#---- extra params ----
#== END AMR-WIND INPUT ==
